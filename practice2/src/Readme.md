# ğŸ“„ Work Description

##  ğŸŠ ë“±ë¡í•œ ëª¨ë“  ë©¤ë²„ê°€ Listë¡œ ë°˜í™˜ë˜ëŠ” API êµ¬í˜„í•˜ê¸° ğŸŠ

### ğŸ“‹[POST] ë©¤ë²„ ê°€ì… API êµ¬í˜„ 

- [ ] API ëª…ì„¸ì„œ ì‘ì„±í•˜ê¸°
- [ ] ìƒˆë¡œ ê°€ì…í•˜ëŠ” ìœ ì €ì˜ ì •ë³´ê°€ ë‹´ê¸´ DTO ìƒì„±í•˜ê¸°
- [ ] MemberController ì‘ì„±í•˜ê¸°
- [ ] DTOë¥¼ ê°€ì§€ê³  MemberService í´ë˜ìŠ¤ì—ì„œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ í†µí•´ ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•˜ê¸°
- [ ] ìƒì„±ëœ ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ MemberRepositoryë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•˜ê¸°
- [ ] Postmanìœ¼ë¡œ API í…ŒìŠ¤íŠ¸ í•˜ê¸°

### ğŸ“[GET] ë©¤ë²„ ì¡°íšŒ API êµ¬í˜„

- [ ] API ëª…ì„¸ì„œ ì‘ì„±í•˜ê¸°
- [ ] MemberControllerì— memberId ë°›ì•„ì˜¤ê¸°
- [ ] ë©¤ë²„ ì •ë³´ë¥¼ ë„˜ê²¨ì¤„ DTO ìƒì„±í•˜ê¸°(ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¡œ êµ¬í˜„)
- [ ] ë°›ì•„ì˜¨ Idë¥¼ ê¸°ì¤€ìœ¼ë¡œ Memberë¥¼ ì°¾ì•„ MemberFindDtoë¥¼ ë§Œë“œëŠ” ë©”ì„œë“œ êµ¬í˜„í•˜ê¸°
- [ ] Idë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš° ì˜¤ë¥˜ ì¶œë ¥í•˜ê¸°
- [ ] Postmanìœ¼ë¡œ API í…ŒìŠ¤íŠ¸ í•˜ê¸°

### ğŸ—ï¸[DELETE] ë©¤ë²„ ì‚­ì œ API êµ¬í˜„

- [ ] API ëª…ì„¸ì„œ ì‘ì„±í•˜ê¸°
- [ ] MemberControllerì—ì„œ ìš”ì²­ ì²˜ë¦¬í•˜ê¸°(PathVariable ë°›ì•„ì˜¤ê¸°)
- [ ] MemberServiceì—ì„œ ë°›ì•„ì˜¨ idì— í•´ë‹¹í•˜ëŠ” Member ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ëŠ” ë¡œì§ì„ ì‘ì„±í•˜ê¸°
- [ ] Postmanìœ¼ë¡œ API í…ŒìŠ¤íŠ¸ í•˜ê¸°

### ğŸ—‚ï¸[GET] ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ API êµ¬í˜„

- [ ] API ëª…ì„¸ì„œ ì‘ì„±í•˜ê¸°
- [ ] MemberService í´ë˜ìŠ¤ì— ëª¨ë“  ë©¤ë²„ë¥¼ ì¡°íšŒí•˜ëŠ” ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ê¸°
- [ ] MemberRepositoryì˜ findAllì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ë©¤ë²„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸°
- [ ] MemberController í´ë˜ìŠ¤ì— ìƒˆë¡œìš´ GET ìš”ì²­ ë§¤í•‘ì„ ì¶”ê°€í•˜ì—¬ ëª¨ë“  ë©¤ë²„ë¥¼ ë°˜í™˜í•˜ëŠ” API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìƒì„±í•˜ê¸°
- [ ] Postmanìœ¼ë¡œ API í…ŒìŠ¤íŠ¸ í•˜ê¸°

# âš™ï¸ ISSUE
- closed #5

## ğŸ§¾ API ëª…ì„¸ì„œ

### [POST] ë©¤ë²„ ê°€ì…
<h3><strong>1ï¸âƒ£ ì–´ë–¤ API ì¸ê°€ìš”?</strong></h3>
<p> [POST] ë©¤ë²„ ê°€ì… API</p>
<p>ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ë°›ì•„ì„œ Member ê°ì²´ ìƒì„± í›„ DBì— ì €ì¥</p>
<h3><strong>2ï¸âƒ£ Request</strong></h3>
<p><strong>Path Parameter</strong></p>
<p><strong>Request Header</strong></p>
<p>[POST] <a href="http://localhost:8080/api/v1/member">http://localhost:8080/api/v1/member</a></p>
<p><strong>Request Body</strong></p>

ì´ë¦„ | íƒ€ì… | Description
-- | -- | --
name | String | ì´ë¦„
part | String | ì†Œì† íŒŒíŠ¸
age | int | ë‚˜ì´
```json
{
    "name" : "ì •ì •êµ",
    "part" : "SERVER",
    "age" : 27
}
```
### 3ï¸âƒ£Response

**âœ¨Response Body**

status | 201 Created
-- | --


<pre><code class="language-json">{           
}
</code></pre>

---

### [GET] ë©¤ë²„ ì¡°íšŒ

<h3><strong>1ï¸âƒ£ì–´ë–¤ API ì¸ê°€ìš”?</strong></h3>
<p>[GET] ë©¤ë²„ ì¡°íšŒ API</p>
<p>memberIdë¥¼ Path variablesë¡œ ë°›ì•„ í•´ë‹¹í•˜ëŠ” ë©¤ë²„ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” API</p>
<h3><strong>2ï¸âƒ£Request</strong></h3>
<p><strong>Path Parameter</strong></p>

Key | Value | Description
-- | -- | --
memberId | int | ë©¤ë²„ id

**Request Header**

[GET] http://localhost:8080/api/v1/member/:memberId

**Request Body**

### 3ï¸âƒ£Response

**âœ¨Response Body**

status | 200 OK
-- | --

ì´ë¦„ | íƒ€ì… | Description
-- | -- | --
name | String | ì´ë¦„
part | String | ì†Œì† íŒŒíŠ¸
age | int | ë‚˜ì´


<pre><code class="language-json">{
    &quot;name&quot;: &quot;ì •ì •êµ&quot;,
    &quot;part&quot;: &quot;SERVER&quot;,
    &quot;age&quot;: 27
}
</code></pre>

---

### [DELETE] ë©¤ë²„ ì‚­ì œ

<h3><strong>1ï¸âƒ£ ì–´ë–¤ API ì¸ê°€ìš”?</strong></h3>
<p>[DELETE] ë©¤ë²„ ì‚­ì œ API</p>
<p>memberIdë¥¼ Path variablesë¡œ ë°›ì•„ í•´ë‹¹í•˜ëŠ” ë©¤ë²„ ì •ë³´ë¥¼ DBì—ì„œ ì‚­ì œí•˜ëŠ” API</p>
<h3><strong>2ï¸âƒ£ Request</strong></h3>
<p><strong> Path Parameter</strong></p>

Key | Value | Description
-- | -- | --
memberId | int | ë©¤ë²„ id

**Request Header**

[DELETE] http://localhost:8080/api/v1/member/:memberId

**Request Body**

### 3ï¸âƒ£ Response
**âœ¨Response Body**

status | 204 No Content
-- | --

<pre><code class="language-json">{           
}
</code></pre>

---

### [GET] ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ

<h3><strong>1ï¸âƒ£ ì–´ë–¤ API ì¸ê°€ìš”?</strong></h3>
<p>[GET] ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ API </p>
<p>ë“±ë¡í•œ ëª¨ë“  ë©¤ë²„ê°€ Listë¡œ ë°˜í™˜ë˜ëŠ” API</p>
<h3><strong>2ï¸âƒ£ Request</strong></h3>
<p><strong> Path Parameter</strong></p>

Key | Value | Description
-- | -- | --
memberId | int | ë©¤ë²„ id

**Request Header**

[GET] http://localhost:8080/api/v1/member/find-all

**Request Body**

### 3ï¸âƒ£ Response

**âœ¨Response Body**

status | 200 OK
-- | --


ì´ë¦„ | íƒ€ì… | Description
-- | -- | --
name | String | ì´ë¦„
part | String | ì†Œì† íŒŒíŠ¸
age | int | ë‚˜ì´

<pre><code class="language-json">[
    {
        &quot;name&quot;: &quot;ì´ë¦„1&quot;,
        &quot;part&quot;: &quot;SERVER&quot;,
        &quot;age&quot;: 24
    },
    {
        &quot;name&quot;: &quot;ì´ë¦„2&quot;,
        &quot;part&quot;: &quot;PLAN&quot;,
        &quot;age&quot;: 25
    },
    {
        &quot;name&quot;: &quot;ì´ë¦„3&quot;,
        &quot;part&quot;: &quot;DESIGN&quot;,
        &quot;age&quot;: 26
    },
    {
        &quot;name&quot;: &quot;ì´ë¦„4&quot;,
        &quot;part&quot;: &quot;WEB&quot;,
        &quot;age&quot;: 27
    },
    {
        &quot;name&quot;: &quot;ì´ë¦„5&quot;,
        &quot;part&quot;: &quot;ANDROID&quot;,
        &quot;age&quot;: 28
    },
    {
        &quot;name&quot;: &quot;ì´ë¦„6&quot;,
        &quot;part&quot;: &quot;IOS&quot;,
        &quot;age&quot;: 29
    }
]
</code></pre>
<!-- notionvc: c6d790e7-b145-4d5e-a050-3aed1b8ab53e -->

---
# ğŸ“· Screenshot

## í´ë˜ìŠ¤ êµ¬ì¡°
![img.png](img.png)

## dto
### MemberCreateDto
```java
package com.sopt.practice2.Web.dto;

import com.sopt.practice2.domain.Part;

public record MemberCreateDto(String name, Part part, int age) {
}
```
### MemberFindDto
```java
package com.sopt.practice2.Web.dto;

import com.sopt.practice2.domain.Member;
import com.sopt.practice2.domain.Part;

public record MemberFindDto(
        String name,
        Part part,
        int age
) {
    public static MemberFindDto of(
            Member member
    ){
        return new MemberFindDto(member.getName(), member.getPart(), member.getAge());
    }
}
```
## service
### MemberService
```java
package com.sopt.practice2.Service;

import com.sopt.practice2.Repository.MemberRepository;
import com.sopt.practice2.Web.dto.MemberCreateDto;
import com.sopt.practice2.Web.dto.MemberFindDto;
import com.sopt.practice2.domain.Member;
import jakarta.persistence.EntityNotFoundException;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import java.util.List;
import java.util.stream.Collectors;

@Service
@RequiredArgsConstructor
public class MemberService {
    private final MemberRepository memberRepository;

    @Transactional
    public String createMember(
            MemberCreateDto memberCreateDto
    ) {
        Member member = Member.builder()
                .name(memberCreateDto.name())
                .part(memberCreateDto.part())
                .age(memberCreateDto.age())
                .build();
        memberRepository.save(member);
        return member.getId().toString();
    }

    public MemberFindDto findMemberById(
            Long memberId
    ){
        return MemberFindDto.of(memberRepository.findById(memberId).orElseThrow(
                () -> new EntityNotFoundException("IDì— í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        ));
    }

    public void deleteMemberById(
            Long memberId
    ){
        memberRepository.findById(memberId).orElseThrow(
                () -> new EntityNotFoundException("IDì— í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        );
        memberRepository.deleteById(memberId);
    }

    // ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ ëª¨ë“  ë©¤ë²„ë¥¼ ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œ ì¶”ê°€í•˜ê¸°
    public List<MemberFindDto> findAllMembers() {
        return memberRepository.findAll().stream()
                .map(member -> new MemberFindDto(member.getName(), member.getPart(), member.getAge()))
                .collect(Collectors.toList());
    }
}
```
## controller
### MemberController
```java
package com.sopt.practice2.Web.controller;

import com.sopt.practice2.Service.MemberService;
import com.sopt.practice2.Web.dto.MemberCreateDto;
import com.sopt.practice2.Web.dto.MemberFindDto;
import lombok.RequiredArgsConstructor;
import org.apache.coyote.Response;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import java.net.URI;
import java.util.List;

@RestController // @Controller + @ResponseBody : java ê°ì²´ë¡œ ë°˜í™˜ë˜ëŠ” ê°’ì„ JSONìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë¦¬í„´
@RequiredArgsConstructor // DIë¥¼ ìœ„í•´ ì‚¬ìš©, final í•„ë“œ + @NonNullì´ ë¶™ì€ í•„ë“œì— ëŒ€í•´ ìƒì„±ì ìƒì„±
@RequestMapping("/api/v1/member")
public class MemberController {
    private final MemberService memberService;

    @PostMapping
    public ResponseEntity createMember(
            @RequestBody MemberCreateDto memberCreateDto // DTO ë°ì´í„°ë¥¼ ìë°” ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ë°›ì•„ì˜¨ë‹¤.
    ){
        return ResponseEntity.created(URI.create(memberService.createMember(memberCreateDto))).build();
    }

    @GetMapping("/{memberId}")
    public ResponseEntity<MemberFindDto> findMemberById(
            @PathVariable Long memberId
    ){
        return ResponseEntity.ok(memberService.findMemberById(memberId));
    }

    @DeleteMapping("/{memberId}")
    public void deleteMemberById(
            @PathVariable Long memberId
    ){
        memberService.deleteMemberById(memberId);
    }

    // ì‹¤ìŠµ : ëª¨ë“  ë©¤ë²„ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” API ì¶”ê°€
    @GetMapping("/find-all")
    public ResponseEntity<List<MemberFindDto>> findAllMembers() {
        List<MemberFindDto> members = memberService.findAllMembers();
        return ResponseEntity.ok(members);
    }
}
```
## main
```java
package com.sopt.practice2;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Practice2Application {

    public static void main(String[] args) {
        SpringApplication.run(Practice2Application.class, args);
    }
}
```
# ğŸ’¬ To Reviewers
- ìƒê°ë³´ë‹¤ ë‹¨ê³„ì ìœ¼ë¡œ êµ¬í˜„ì„ í•´ë³´ë ¤ê³  í•˜ë‹ˆ íš¨ìœ¨ì ì¸ ì½”ë“œì— ëŒ€í•´ ë§ì´ ê³ ë¯¼í•˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ìµœëŒ€í•œ SOLID ë²•ì¹™ì„ ì§€í‚¤ê¸° ìœ„í•´ì„œ ë©”ì„œë“œë“¤ì„ ë¶„ë¦¬í•´ë³´ë ¤ê³  í–ˆëŠ”ë°, ì‰½ì§€ê°€ ì•Šë„¤ìš” ã…ã…;; ì´í›„ì— ê³ ê° í…Œì´ë¸”ì„ ì¶”ê°€í•´ì„œ ê°ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ê³ , ê³„ì¢Œë¥¼ ì´ì²´í•˜ê¸° ì „ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ë“¤ë„ ì¶”ê°€í•´ë³´ë ¤ê³  ìƒê°ì¤‘ì…ë‹ˆë‹¤! ë¶€ì¡±í•˜ì§€ë§Œ ë” íš¨ìœ¨ì ì¸ ì½”ë“œë°©í–¥ì„±ì´ ìˆë‹¤ë©´ ë§ì”€í•´ì£¼ì‹œë©´ ê°ì‚¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤ ğŸ‘ 